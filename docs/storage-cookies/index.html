<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.56">
<title data-react-helmet="true">Cookies | Web Basics</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Cookies | Web Basics"><meta data-react-helmet="true" name="description" content="Den meisten Nutzer*innen sind Cookies vor allem deswegen ein Begriff, weil man bei den meisten Seiten dem Einsatz eben dieser Cookies zustimmen muss."><meta data-react-helmet="true" property="og:description" content="Den meisten Nutzer*innen sind Cookies vor allem deswegen ein Begriff, weil man bei den meisten Seiten dem Einsatz eben dieser Cookies zustimmen muss."><meta data-react-helmet="true" property="og:url" content="https://michivo.github.io/webbasics/webbasics/docs/storage-cookies"><link data-react-helmet="true" rel="shortcut icon" href="/webbasics/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://michivo.github.io/webbasics/webbasics/docs/storage-cookies"><link rel="stylesheet" href="/webbasics/styles.e945762e.css">
<link rel="preload" href="/webbasics/styles.65e64de5.js" as="script">
<link rel="preload" href="/webbasics/runtime~main.3c2d77df.js" as="script">
<link rel="preload" href="/webbasics/main.681b045d.js" as="script">
<link rel="preload" href="/webbasics/1.e4ee68c3.js" as="script">
<link rel="preload" href="/webbasics/2.14c28c65.js" as="script">
<link rel="preload" href="/webbasics/3.fc61819c.js" as="script">
<link rel="preload" href="/webbasics/1be78505.ad68cf6f.js" as="script">
<link rel="preload" href="/webbasics/53.d6d8fa78.js" as="script">
<link rel="preload" href="/webbasics/1940a611.47f1dd84.js" as="script">
<link rel="preload" href="/webbasics/f72c15a8.420c63ca.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/webbasics/"><img class="navbar__logo" src="/webbasics/img/logo.svg" alt="Logo"><strong class="navbar__title">Web Basics</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/webbasics/docs/">Skriptum</a><a class="navbar__item navbar__link" href="/webbasics/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/michivo/webbasics" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/webbasics/"><img class="navbar__logo" src="/webbasics/img/logo.svg" alt="Logo"><strong class="navbar__title">Web Basics</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/webbasics/docs/">Skriptum</a></li><li class="menu__list-item"><a class="menu__link" href="/webbasics/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/michivo/webbasics" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Einführung</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/intro-about">Über das Skriptum</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/intro-onesecond">Die 1 Sekunde</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/intro-web_vs_internet">Das Web</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/intro-brief_history">Eine kurze Geschichte des WWW</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/intro-protocols">Protokolle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/intro-dns">Domain Name Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/intro-glossary">Glossar</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/intro-learnings">Lernziele</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">HTTP</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/http-intro">Überblick</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/http-whatfor">Webservices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/http-methods">Anfragemethoden</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/http-responses">Response Codes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/http-headers-overview">HTTP Header</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">URIs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/uris-intro">URI-Überblick</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/uris-urls">URLs</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">HTML</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/html-intro">HTML</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/html-elements">Elemente</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/html-forms">Forms</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Media Types</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/mime-intro">Überblick</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/mime-list">Die wichtigsten Typen</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">DOM</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/dom-intro">DOM</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/dom-tree">DOM-Baum</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">CSS</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/css-intro">Einführung</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/css-syntax">Syntax</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/css-box-model">Box-Model</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/css-units">Einheiten</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/css-layout">Layouts</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Datenspeicherung</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/webbasics/docs/storage-intro">Einführung</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/webbasics/docs/storage-cookies">Cookies</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/webbasics/docs/storage-threats">Gefahren</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Barrierefreiheit</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/a11y-intro">Einführung</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/webbasics/docs/a11y-aria">ARIA</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Cookies</h1></header><div class="markdown"><p>Den meisten Nutzer<em>innen sind Cookies vor allem deswegen ein Begriff, weil man bei den meisten Seiten dem Einsatz eben dieser Cookies zustimmen muss.
Was aber sind </em>Cookies* genau?</p><img alt="Delicious Cookie" src="/webbasics/img/cookie.svg" height="300"><p>Cookies sind Daten, die vom Client (also dem Browser) beim Besuch einer Webseite gespeichert werden. HTTP an sich ist ja ein <em>zustandsloses</em> Protokoll,
auf HTTP-Ebene ist somit jede Anfrage unabhängig von jenen davor und danach zu betrachten. Um trotzdem Webanwendungen mit Zustandsinformationen umsetzen
zu können, braucht es eine Lösung, wie dieser Zustand abgebildet werden. Dieser Zustand kann z.B. aus dem Einkaufswagen eines Online-Shops, Login-Daten,
Trackingdaten, Einstellungen oder anderen Daten bestehen. Die Lösung dafür sind <em>Cookies</em>. Ein Cookie besteht aus</p><ul><li>einem Namen</li><li>einem Wert (Länge: Maximal 4kB)</li><li>Attributen, wie z.B. dem Ablaufdatum, der Domäne, sowie Flags (<code>HttpOnly</code>, <code>Secure</code>, ...)</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="implementierung"></a>Implementierung<a aria-hidden="true" tabindex="-1" class="hash-link" href="#implementierung" title="Direct link to heading">#</a></h2><p>Cookies werden, wie bereits bei den Kapiteln zu HTTP beschrieben, in HTTP-Headern übertragen. Der Server weist mit dem <code>Set-Cookie</code>-Header den Client an, ein oder mehrere Cookies zu speichern. Hier ist der Anfang einer Beispielantwort eines Servers, mit der zwei Cookies gesetzt werden:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">HTTP/1.0 200 OK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Content-type: text/html</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Set-Cookie: theme=midnight</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Set-Cookie: sessionToken=4079935355c44e3ea04eccfb924fd6ab; Expires=Wed, 01 Feb 2021 12:34:56 GMT; Secure; HttpOnly</span></div></div></div></div></div><p>Der Server setzt hier ein Cookie mit dem Namen <code>theme</code> und dem Wert <code>midnight</code>, sowie ein weiteres Cookie mit dem Namen <code>sessionCookie</code> und dem Wert <code>4079935355c44e3ea04eccfb924fd6ab</code> sowie den Attributen <code>Expires</code> (Ablaufdatum), <code>Secure</code> und <code>HttpOnly</code>. Der Browser/Client speichert diese Cookies und
überträgt sie bei nachfolgenden Anfragen an den Server wieder im HTTP-Header <code>Cookie</code>. Um ein Cookie wieder zu löschen, wird in der Regel vom Server ein <code>Set-Cookie</code>-Header mit leerem Wert (optional) und standardgemäß einem Ablaufdatum in der Vergangenheit geschickt, also z.B.: </p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">HTTP/1.0 200 OK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Content-type: text/html</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Set-Cookie: sessionToken=; Expires=Wed, 01 Feb 2020 12:34:56 GMT</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="attribute"></a>Attribute<a aria-hidden="true" tabindex="-1" class="hash-link" href="#attribute" title="Direct link to heading">#</a></h2><p>Wie im obigen Beispiel gesehen, kann ein Cookie mehrere Attribute haben. Die wichtigsten sind:</p><ul><li><code>Expires</code>: Der Wert dieses Attributs gibt an, bis zu welchem Zeitpunkt ein Cookie vom Client verwendet werden soll. Alternativ kann auch das Attribut <code>max-age</code> verwendet werden, das das maximale Alter in Sekunden enthält. Ist keines der Attribute vorhanden, wird das Cookie vom Browser nicht persistiert, es wird also mit dem Ende der aktuellen Browser-Session gelöscht.</li><li><code>HTTPOnly</code>: Wenn dieses Attribut (das keinen Wert hat) vorhanden ist, bedeutet das, dass Skripte im Client nicht berechtigt sind, auf das jeweilige Cookie zuzugreifen. Das wird vor allem aus Sicherheitsgründen bei Cookies gemacht, die z.B. Zugriff auf sensible Daten erlauben würden. Angriffe, bei denen externer JavaScript-Code auf solche Cookies zuzugreifen versucht, werden als XSS (Cross Site Scripting bezeichnet) und durch Verwendung dieses Attributs deutlich erschwert.</li><li><code>Secure</code>: Cookies, die dieses Attribut haben, dürfen vom Client nur über verschlüsselte Verbindungen (also über HTTPS) übertragen werden, wenn sie auch vom Server über eine solche Verbindung gesetzt wurden. Damit wird es deutlich erschwert, solche Cookies zu <em>sniffen</em>, also ihren Inhalt durch die Analyse nicht-verschlüsselter Datenkanäle abzugreifen.</li><li>Die Attribute <code>Domain</code> und <code>Path</code> geben an, für welche Domain bzw. welchen Pfad ein Cookie gültig sind. Sie sind vor allem dann wichtig, wo mehrere Anwendungen unter einer Domain erreichbar sind. Hat bei einem Cookie das <code>Domain</code>-Attribut den Wert <code>github.io</code>, dann würde der Browser dieses Cookie sowohl an <code>michivo.github.io</code> übertragen als auch an z.B. <code>attacker.github.io</code>. Wird kein Wert für <code>Domain</code> bzw. <code>Path</code> angegeben, verwendet sie der Browser nur bei der Domain bzw. dem Pfad des Requests, in dessen Antwort die Cookies gesetzt wurden. <code>Domain</code> kann freilich nur Werte beinhalten, die die gleiche Top-Level-Domain haben wie die Webseite, zu der ein Cookie gehört. Die Webseite <code>campus02.at</code> kann also keine Cookies für die Domain <code>fh-joanneum.at</code> setzen.</li><li>Mit dem <code>SameSite</code>-Attribut kann angegeben werden, ob ein Cookie nur als First-Party-Cookie oder auch als Third-Party-Cookie genutzt werden darf. Dieses Attribut kann drei Werte haben: <code>SameSite=None</code> erlaubt die Verwendung als Third-Party-Cookie, <code>SameSite=Lax</code> verbietet die Verwendung als Third-Party-Cookies beim Laden von Ressourcen (z.B. Bildern, IFrames), erlaubt diese aber beim Klicken auf einen Link, <code>SameSite=Strict</code> verbietet die Verwendung als Third-Party-Cookie gänzlich. Cookies mit <code>SameSite=None</code> müssen das <code>Secure</code>-Attribut gesetzt haben, sonst wird das Cookie vom Browser blockiert.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="first-party-vs-third-party-cookies"></a>First-Party vs Third-Party-Cookies<a aria-hidden="true" tabindex="-1" class="hash-link" href="#first-party-vs-third-party-cookies" title="Direct link to heading">#</a></h2><p><strong>First-Party-Cookies</strong> sind jene Cookies, die von der Webseite gesetzt sind, die ein Benutzer tatsächlich besucht. Hierbei handelt es sich einerseits um Cookies, die technisch notwendig sind (z.B. Session-ID nach dem Login, Inhalt des Einkaufswagens, Einstellungen, ...), oft aber auch um Daten, die von den Webseitenbetreiber*innen für statistische Auswertungen verwendet werden. <strong>Third-Party-Cookies</strong> sind jedoch Cookies, die von anderen Webseiten (z.B. Facebook, Google, Twitter, ... beim Besuch eines Blogs) gesetzt werden. Third-Party-Cookies erlauben es den Unternehmen hinter diesen anderen Webseiten, genauere Benutzer*innenprofile zu erstellen, da sie ein Webseitenübergreifendes Tracking erlauben. </p><p>Nun wurde oben erwähnt, dass Cookies nur für Domains gesetzt werden können, die die gleiche Top-Level-Domain wie die besuchte Webseite haben. Die Seite <code>www.campus02.at</code> kann also selbst keine Google-, Facebook- oder Twitter-Cookies setzen. Findet sich aber auf der Seite <code>www.campus02.at</code> z.B. ein Facebook-Like-Button, eine Werbeeinschaltung von Google oder ein Share-Link für Twitter, so werden für diese Elemente in der Regel Inhalte von den jeweiligen Seiten geladen - somit ist es diesen Seiten auch möglich, Cookies zu setzen und das Surfverhalten zu analysieren. </p><p>Third-Party-Cookies werden aus datenschutzrechtlicher Sicht als bedenklich eingestuft und sind u.a. Thema bei der DSGVO/GDPR. Seit einigen Jahren ist es daher erforderlich, dass Benutzer*innen aktiv der Verwendung von Cookies, die nicht technisch notwendig sind, ausdrücklich zuzustimmen. Eine tiefergehende Auseinandersetzung mit diesem sicherlich spannenden Thema würde den Rahmen dieses Skriptums aber leider sprengen.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="links"></a>Links<a aria-hidden="true" tabindex="-1" class="hash-link" href="#links" title="Direct link to heading">#</a></h2><ul><li><a href="https://tools.ietf.org/html/rfc6265" target="_blank" rel="noopener noreferrer">Cookie-Spezifikation in RFC-6265</a></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/michivo/webbasics/edit/master/website/docs/storage_cookies.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/webbasics/docs/storage-intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Clientseitig Daten speichern</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/webbasics/docs/storage-threats"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Gefahren von Cookies »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#implementierung" class="table-of-contents__link">Implementierung</a></li><li><a href="#attribute" class="table-of-contents__link">Attribute</a></li><li><a href="#first-party-vs-third-party-cookies" class="table-of-contents__link">First-Party vs Third-Party-Cookies</a></li><li><a href="#links" class="table-of-contents__link">Links</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright © 2021 Michael Faschinger, Built with Docusaurus.</div></div></div></footer></div>
<script src="/webbasics/styles.65e64de5.js"></script>
<script src="/webbasics/runtime~main.3c2d77df.js"></script>
<script src="/webbasics/main.681b045d.js"></script>
<script src="/webbasics/1.e4ee68c3.js"></script>
<script src="/webbasics/2.14c28c65.js"></script>
<script src="/webbasics/3.fc61819c.js"></script>
<script src="/webbasics/1be78505.ad68cf6f.js"></script>
<script src="/webbasics/53.d6d8fa78.js"></script>
<script src="/webbasics/1940a611.47f1dd84.js"></script>
<script src="/webbasics/f72c15a8.420c63ca.js"></script>
</body>
</html>