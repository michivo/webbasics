(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{183:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return a})),t.d(n,"metadata",(function(){return o})),t.d(n,"rightToc",(function(){return c})),t.d(n,"default",(function(){return l}));var i=t(2),r=t(9),s=(t(0),t(187)),a={id:"storage-threats",title:"Gefahren von Cookies",sidebar_label:"Gefahren"},o={id:"storage-threats",title:"Gefahren von Cookies",description:"Wie im vorangegangenen Abschnitt beschrieben, sind Cookies ein essenzielles Element vieler Webanwendungen, wenn es darum geht,",source:"@site/docs/storage_threats.mdx",permalink:"/webbasics/docs/storage-threats",editUrl:"https://github.com/michivo/webbasics/edit/master/website/docs/storage_threats.mdx",sidebar_label:"Gefahren",sidebar:"someSidebar",previous:{title:"Cookies",permalink:"/webbasics/docs/storage-cookies"},next:{title:"Accessibility - Barrierefreiheit",permalink:"/webbasics/docs/a11y-intro"}},c=[{value:"Cross-Site-Scripting (XSS)",id:"cross-site-scripting-xss",children:[]},{value:"Cookie Sniffing",id:"cookie-sniffing",children:[]},{value:"Cross Site Request Forgery (CSRF)",id:"cross-site-request-forgery-csrf",children:[]},{value:"Links",id:"links",children:[]}],u={rightToc:c};function l(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(i.a)({},u,t,{components:n,mdxType:"MDXLayout"}),Object(s.b)("p",null,"Wie im vorangegangenen Abschnitt beschrieben, sind Cookies ein essenzielles Element vieler Webanwendungen, wenn es darum geht,\ndass sich ein","*","e Benutzer","*","in bei einer Seite authentifiziert. Das f\xfchrt freilich dazu, dass es f\xfcr b\xf6swillige Hacker","*","innen interessant ist,\nSchw\xe4chen bei diversen Cookie-Mechanismen auszunutzen, um mittels Identit\xe4tsdiebstahl Schaden anzurichten."),Object(s.b)("p",null,"Sehen wir uns einige dieser m\xf6glichen Schwachstellen an."),Object(s.b)("h2",{id:"cross-site-scripting-xss"},"Cross-Site-Scripting (XSS)"),Object(s.b)("p",null,"Beim XSS wird versucht, schadhaften JavaScript-Code in eine Seite zu injizieren. Die konkreten Mechanismen, wie das passiert, sind nicht Thema dieser Vorlesung, die Auswirkungen jedoch schon: K\xf6nnen Angreifer schadhaften Code im Browser eines Benutzers ausf\xfchren, k\xf6nnen Sie damit auch auf die im Browser gespeicherten Cookies zugreifen, sie abgreifen und die somit erhaltenen Daten f\xfcr ihre Zwecke missbrauchen."),Object(s.b)("p",null,"Die Verwendung des ",Object(s.b)("inlineCode",{parentName:"p"},"HttpOnly"),"-Attributs schafft hier Abhilfe gegen eine Vielzahl von XSS-Attacken, weil auf Cookies mit diesem Attribut nicht per JavaScript zugegriffen werden kann. Dieses Attribut sollte somit immer dann verwendet werden, wenn eine Anwendung nicht selbst direkt auf das jeweilige Cookie zugreifen muss."),Object(s.b)("h2",{id:"cookie-sniffing"},"Cookie Sniffing"),Object(s.b)("p",null,"Baut man eine unverschl\xfcsselte Verbindung zu einem Webserver auf, werden s\xe4mtliche Daten (also auch Cookies) unverschl\xfcsselt \xfcbertragen. Angreifer k\xf6nnen, wenn sie Zugriff auf die zwischen Client und Server ausgetauschten Daten haben, die Cookies auslesen und f\xfcr ihre Zwecke nutzen."),Object(s.b)("p",null,"Die effizienteste Methode gegen Cookie-Sniffing ist es, nur sichere Verbindungen zwischen Client und Server zuzulassen, also auf HTTPS statt HTTP zu setzen. Bei Cookies sollte dann das ",Object(s.b)("inlineCode",{parentName:"p"},"Secure"),"-Attribut gesetzt werden"),Object(s.b)("h2",{id:"cross-site-request-forgery-csrf"},"Cross Site Request Forgery (CSRF)"),Object(s.b)("p",null,"Bei CSRF versuchen Angreifer \xfcber Schadcode in Webseiten, gef\xe4lschte Anfragen an vertrauensw\xfcrdige Seiten mit den Authetifikationsdaten einer","*","s Benutzer","*","in abzusetzen. Das erreicht man, indem z.B. ein Werbebanner folgenden HTML-Code enth\xe4lt:"),Object(s.b)("pre",null,Object(s.b)("code",Object(i.a)({parentName:"pre"},{}),'   <img src="https://www.deinebank.at/transferMoney?recipient=EvilMichael;amount=10000">\n')),Object(s.b)("p",null,"Der Browser setzt, wenn er diese Zeile verarbeitet, einen HTTP-Aufruf an die angegebene URL ab und inkludiert bei diesem Aufruf freilich alle Cookies f\xfcr ",Object(s.b)("inlineCode",{parentName:"p"},"https://www.deinebank.at"),". Ist die","*","er Benutzer","*","in Kundin","*","e dieser Bank, und h\xe4tte die Bank keinen Sicherheitsmechanismus wie 2-Faktor-Authentifizierung oder ein TAN-Verfahren, k\xf6nnte so Geld von einem Konto abgezogen werden."),Object(s.b)("p",null,"Mit dem ",Object(s.b)("inlineCode",{parentName:"p"},"SameSite"),"-Cookie-Attribut wird sichergestellt, dass Cookies nur dann bei Aufrufen mitgegeben werden, wenn man sich als Benutzer","*","in auch wirklich auf der Seite befindet, die das Cookie gesetzt hat. Browserhersteller sind in den letzten Monaten dazu \xfcbergegangen, auch Cookies, die das ",Object(s.b)("inlineCode",{parentName:"p"},"SameSite"),"-Attribut nicht gesetzt haben, so zu behandeln, als w\xe4re ",Object(s.b)("inlineCode",{parentName:"p"},"SameSite=Lax")," gesetzt."),Object(s.b)("h2",{id:"links"},"Links"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object(i.a)({parentName:"li"},{href:"https://owasp.org/"}),"OWASP")," - das Open Web Application Security Project, eine f\xfchrende Organisation im Bereich der Web-Sicherheit")))}l.isMDXComponent=!0},187:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return h}));var i=t(0),r=t.n(i);function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){s(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)t=s[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)t=s[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var u=r.a.createContext({}),l=function(e){var n=r.a.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},d=function(e){var n=l(e.components);return r.a.createElement(u.Provider,{value:n},e.children)},b={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},f=r.a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,s=e.originalType,a=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),d=l(t),f=i,h=d["".concat(a,".").concat(f)]||d[f]||b[f]||s;return t?r.a.createElement(h,o(o({ref:n},u),{},{components:t})):r.a.createElement(h,o({ref:n},u))}));function h(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var s=t.length,a=new Array(s);a[0]=f;var o={};for(var c in n)hasOwnProperty.call(n,c)&&(o[c]=n[c]);o.originalType=e,o.mdxType="string"==typeof e?e:i,a[1]=o;for(var u=2;u<s;u++)a[u]=t[u];return r.a.createElement.apply(null,a)}return r.a.createElement.apply(null,t)}f.displayName="MDXCreateElement"}}]);